const app=getApp(),ajax=app.request;Page({data:{tabBarData:{show:!0,options:{current:1},items:[{label:"活动",key:"active"},{label:"圈子",key:"circle"},{label:"商城",key:"mall"},{label:"我的",key:"mine"}]},userInfo:{},userPost:[]},ontabbarchange(t){const[e,a]=[t.detail.index,this.data.tabBarData];a.options.current=e,this.setData({tabBarData:a}),wx.reLaunch({url:`/pages/index/index?id=${e}`})},getUserPost(){app.request.getUserPost({params:{uid:this.options.oid,limit:0},success:t=>{let e=t.result_data.result,a=[];for(let t=0;t<e.length;t++)a.push({data:{...e[t]}});this.setData({userPost:a})}})},emitpagescroll(t){},onviewavatar(){const t=this.data.userInfo.head_image_url;wx.previewImage({current:t,urls:[t]})},getUserInfo(){const t=this.options.oid;wx.getStorage({key:"u_id",success:e=>{ajax.getUserCenterInfo({params:{get_uid:t,uid:e.data},success:t=>{this.setData({userInfo:t.result_data})}})}})},onLoad:function(t){},onReady:function(){wx.setNavigationBarTitle({title:"个人信息"})},onShow:function(){this.getUserPost(),this.getUserInfo()},onHide:function(){},onUnload:function(){},onPullDownRefresh:function(){},onReachBottom:function(){},onShareAppMessage:function(){}});