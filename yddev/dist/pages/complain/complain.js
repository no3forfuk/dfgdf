const app=getApp();Page({data:{complainValue:""},onsetcomplainvalue(n){this.setData({complainValue:n.detail.value})},onsubmitcomplain(){let n=this.data.complainValue;0===(n=n.trim()).length?wx.showModal({content:"你不能提交一个空的投诉或建议",showCancel:!1}):app.request.submitComplain({params:{content:n,uid:wx.getStorageSync("u_id"),type_id:1},success:n=>{1==n.result_code?wx.showModal({content:"您的投诉或建议已成功提交，我们会尽快处理",showCancel:!1,success:n=>{wx.navigateBack({delta:1})}}):wx.showModal({content:"res",showCancel:!1,success:n=>{wx.navigateBack({delta:1})}})}})},onLoad:function(n){},onReady:function(){},onShow:function(){wx.setNavigationBarTitle({title:"投诉建议"})},onHide:function(){},onUnload:function(){},onPullDownRefresh:function(){},onReachBottom:function(){},onShareAppMessage:function(){}});