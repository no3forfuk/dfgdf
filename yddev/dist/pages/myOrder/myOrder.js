const app=getApp();Page({data:{feeCurrent:0,markStyle:{width:0,left:0},headerData:[{text:"待支付订单"},{text:"已支付订单"}],orderType:1,paidData:[],unpaidData:[]},onchangefeetype(t){this.setData({feeCurrent:t.currentTarget.dataset.index}),0==this.data.feeCurrent?(this.setData({orderType:1}),this.getOrderList("unpaidData")):1==this.data.feeCurrent&&(this.setData({orderType:2}),this.getOrderList("paidData")),this.setFeeMarkPosition(),this.hidePayBtn()},onselectunpaiditem(t){console.log("添加未支付项目")},ongopay(){wx.navigateTo({url:"/pages/comfirmOrder/comfirmOrder"})},setFeeMarkPosition(){const[t]=[this.data.feeCurrent],e=wx.createSelectorQuery();e.selectAll(".header-item-text").boundingClientRect(),e.exec(e=>{e[0]&&this.setData({markStyle:{width:e[0][t].width,left:e[0][t].left}})})},hidePayBtn(){var t=wx.createAnimation({duration:500,timingFunction:"ease"});0==this.data.feeCurrent?t.translateY("0").step():t.translateY("100%").step(),this.setData({animationData:t.export()})},getOrderList(t){app.request.getOrderList({params:{uid:wx.getStorageSync("u_id"),type:this.data.orderType},success:e=>{this.data[t],this.setData({[t]:e.result_data.result})}})},onLoad:function(t){},onReady:function(){},onShow:function(){wx.setNavigationBarTitle({title:"我的订单"}),this.setFeeMarkPosition(),this.getOrderList("unpaidData")},onHide:function(){},onUnload:function(){},onPullDownRefresh:function(){},onReachBottom:function(){},onShareAppMessage:function(){}});