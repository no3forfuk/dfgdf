const app=getApp(),ajax=app.request;Page({data:{tabBarData:{show:!0,options:{current:3},items:[{label:"活动",key:"active"},{label:"圈子",key:"circle"},{label:"商城",key:"mall"},{label:"我的",key:"mine"}]},resourcesData:[]},ontabbarchange(e){const[t,a]=[e.detail.index,this.data.tabBarData];a.options.current=t,this.setData({tabBarData:a}),wx.reLaunch({url:`/pages/index/index?id=${t}`})},onpagescroll(e){const[t,a]=[e.detail,this.data.tabBarData],s=wx.getStorageSync("system");let o=t.scrollHeight-t.scrollTop-s.windowHeight;t.deltaY<0?a.show=!(o>50):a.show=!0,this.setData({tabBarData:a})},collect(e){const t=e.currentTarget.dataset,a={uid:wx.getStorageSync("u_id"),type:3,house_id:t.id};1==t.cstatus?ajax.discollect({params:a,success:e=>{this.getHouseResource()}}):ajax.collect({params:a,success:e=>{this.getHouseResource()}})},getHouseResource(){ajax.getHouseResourcesList({params:{uid:wx.getStorageSync("u_id")},success:e=>{this.setData({resourcesData:e.result_data.result})}})},onLoad:function(e){},onReady:function(){},onShow:function(){wx.setNavigationBarTitle({title:"全部房源"}),this.getHouseResource()},onHide:function(){},onUnload:function(){},onPullDownRefresh:function(){},onReachBottom:function(){},onShareAppMessage:function(){}});